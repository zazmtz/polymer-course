<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../bower_components/iron-icons/communication-icons.html">
<link rel="import" href="../bower_components/iron-icons/editor-icons.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">

<dom-module id="users-list">
  <!-- Defines the element's style and local DOM -->
  <template>
    <style>
      :host {
        display: block;

        padding: 16px;
      }
      .flex-container {
          display: flex;
          flex-direction: row;
          justify-content: flex-start;
      }
    </style>
    <style is="custom-style">
            paper-button.custom {
              --paper-button-ink-color: var(--paper-pink-a200);
              /* These could also be individually defined for each of the
                specific css classes, but we'll just do it once as an example */
              --paper-button-flat-keyboard-focus: {
                background-color: var(--paper-pink-a200);
                color: white !important;
              };
              --paper-button-raised-keyboard-focus: {
                background-color: var(--paper-pink-a200) !important;
                color: white !important;
              };
            }
            paper-button.custom:hover {
              background-color: var(--paper-indigo-100);
            }
            paper-button.green {
              background-color: var(--paper-green-500);
              color: white;
            }
            paper-button.green[active] {
              background-color: var(--paper-red-500);
            }
            iron-image.header {
              justify-content: center;
            }
    
          </style>
          

    <h1>Users list</h1>

    <paper-button raised class="custom green">
      <iron-icon icon="icons:add"></iron-icon>
      <a style="text-decoration: none" create href="[[rootPath]]create">Create user</a>
    </paper-button>
    </div>

    <template is="dom-repeat" items="[[contacts]]" as="item">
       <div class="flex-container"> 
            <paper-card alt="contact" style="margin: 4px;">
                <div class="card-content">
                    <paper-card class="card-img" image=[[item.picture.large]]></paper-card> 
                    <ul>
                        <li>
                            <iron-icon icon="social:person"></iron-icon>
                            [[item.name.first]] [[item.name.last]]
                        </li>
                        <li>
                            <iron-icon icon="editor:merge-type"></iron-icon>
                            github.com/[[item.login.username]]
                        </li>
                        <li>
                            <iron-icon icon="communication:email"></iron-icon>
                            [[item.email]]
                        </li>
                        <li>
                            <iron-icon icon="communication:phone"></iron-icon>
                            [[item.phone]]
                        </li>
                    </ul>
                    <div class="card-actions" horizontal justified>
                        <paper-button raised>
                            <iron-icon icon="icons:create"></iron-icon>
                            <a style="text-decoration: none" name="edit" href="[[rootPath]]edit">Edit</a>
                        </paper-button>
                    </div>
                </div>
            </paper-card>
       </div>
    </template>
  </template>
  <script>
    // Your new element extends the Polymer.Element base class
    class UsersList extends Polymer.Element {
      static get is() { return 'users-list'; }

      static get properties() {
          return {
            contacts: {
              type: Array,
              value:[]
              }
            }
          }
        
        connectedCallback() {
        super.connectedCallback();
        fetch('https://randomuser.me/api/?results=5')
                .then(response => response.json())
                .then(payload => {
                  this.contacts = [...payload.results]
                });
        }
    }
    //Now, register your new custom element so the browser can use it
    customElements.define(UsersList.is, UsersList);
  </script>
</dom-module>